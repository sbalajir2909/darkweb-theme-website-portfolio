@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Base ===== */
:root { color-scheme: dark; }
html, body, #root { height: 100%; background: #0a0a0a; color: white; }

/* Subtle CRT wash */
.crt::after{
  content:""; position:fixed; inset:0; pointer-events:none;
  background:linear-gradient(rgba(255,255,255,.02), rgba(0,0,0,.05));
  background-size:100% 3px; mix-blend-mode:overlay; opacity:.2;
}

/* ===== Title Glitch ===== */
.glitch { position: relative; }
.glitch::before, .glitch::after { content: attr(data-text); position: absolute; left: 0; top: 0; }
.glitch::before { transform: translateX(-2px); text-shadow: -1px 0 #39ff14; opacity: .7; }
.glitch::after  { transform: translateX( 2px); text-shadow:  1px 0 #8a2be2; opacity: .7; }

@keyframes glitch-shift-1 {
  0% { transform: translate(0,0); }
  20% { transform: translate(-2px,1px); }
  40% { transform: translate(2px,-1px); }
  60% { transform: translate(-1px,2px); }
  80% { transform: translate(1px,-2px); }
  100%{ transform: translate(0,0); }
}
@keyframes glitch-clip {
  0% { clip-path: inset(0 0 80% 0); }
  20% { clip-path: inset(10% 0 50% 0); }
  40% { clip-path: inset(80% 0 0 0); }
  60% { clip-path: inset(30% 0 30% 0); }
  80% { clip-path: inset(60% 0 10% 0); }
  100%{ clip-path: inset(0 0 80% 0); }
}

/* Strong single-line glitch */
.glitch-anim{
  position: relative; display:inline-block; white-space: nowrap; line-height:1;
  animation: glitch-shift-1 2.2s steps(2) infinite;
}
.glitch-anim::before,
.glitch-anim::after{
  content: attr(data-text); position:absolute; inset:0; white-space:nowrap; pointer-events:none; mix-blend-mode:screen;
}
.glitch-anim::before{ text-shadow:-1px 0 #39ff14; transform:translateX(-1px); animation:glitch-clip 1.8s steps(2) infinite reverse; }
.glitch-anim::after { text-shadow: 1px 0 #8a2be2; transform:translateX( 1px); animation:glitch-clip 1.6s steps(2) infinite; }
.glitch-responsive{ font-size: clamp(1.75rem, 6vw, 4.5rem); }

/* Nav glitch hover */
.nav-glitch{ position:relative; display:inline-block; }
.nav-glitch::after{
  content:attr(data-text); position:absolute; inset:0; pointer-events:none; opacity:0; transform:translateX(0);
  text-shadow:-1px 0 #39ff14, 1px 0 #8a2be2; transition: opacity .12s ease, transform .12s ease;
}
.nav-glitch:hover::after,
.nav-glitch:focus-visible::after{ opacity:1; transform:translateX(1px); }

/* Button flicker */
@keyframes btn-flicker{ 0%,97%,100%{filter:none;opacity:1;} 98%{filter:brightness(1.6);opacity:.9;} 99%{filter:brightness(.7);opacity:.8;} }
.btn-flicker{ animation: btn-flicker 6s infinite; }

/* Soft parallax background blobs */
.parallax-sway{
  animation: sway 14s ease-in-out infinite alternate; opacity:.08;
  background:
    radial-gradient(60% 60% at 30% 30%, #39ff14 0%, transparent 60%),
    radial-gradient(50% 50% at 70% 70%, #8a2be2 0%, transparent 60%);
  filter: blur(40px);
}
@keyframes sway{ from{transform:translate(-4%,-2%) scale(1.05);} to{transform:translate(3%,2%) scale(1.08);} }

/* ===== Marquee (caution tape / tickers) ===== */
.marquee{ position:relative; overflow:hidden; white-space:nowrap; }
.marquee-track{
  display:inline-flex; gap:2rem; will-change:transform;
  animation: marquee-scroll 12s linear infinite;
}
.marquee:hover .marquee-track{ animation-play-state: paused; }
@keyframes marquee-scroll{ 0%{ transform: translateX(0); } 100%{ transform: translateX(-50%); } }

/* ===== Education visuals ===== */
.caution-tape{
  background: repeating-linear-gradient(-45deg,#111 0 10px,#111 10px 20px,#ffcc00 20px 30px,#ffcc00 30px 40px);
  color:#000; text-transform:uppercase; letter-spacing:.08em; font-weight:800;
  border-top:1px solid #222; border-bottom:1px solid #222;
}
.caution-tape span{ display:inline-block; padding:.35rem .9rem; background:rgba(255,255,255,0.08); }

/* LIVE pulse */
.pulse-glow{ box-shadow:0 0 0 rgba(255,0,51,.6); animation:pulse 1.5s infinite; }
@keyframes pulse{ 0%{box-shadow:0 0 0 0 rgba(255,0,51,.6);} 70%{box-shadow:0 0 0 14px rgba(255,0,51,0);} 100%{box-shadow:0 0 0 0 rgba(255,0,51,0);} }

/* Headline underline accent */
.underline-glitch{
  background-image: linear-gradient(90deg,transparent 0,transparent 40%,#39ff14 40%,#39ff14 60%,transparent 60%,transparent 100%);
  background-size: 8px 2px; background-repeat: repeat-x; background-position: 0 100%; padding-bottom:2px;
}

/* Glitch banner plate (for rotating roast lines) */
.glitch-banner{
  position:relative; display:flex; align-items:center; gap:.5rem;
  padding:.4rem .7rem; border-radius:6px; overflow:hidden; white-space:nowrap;
  font-family: JetBrains Mono, ui-monospace, SFMono-Regular, monospace;
  font-weight:700; letter-spacing:.01em;
  background: rgba(24,0,12,.88); color:#ffd9e4;
  border:1px solid rgba(255,0,85,.35);
  box-shadow:0 0 10px rgba(255,0,85,.12), inset 0 0 10px rgba(255,0,85,.06);
  backdrop-filter: blur(2px);
}
.glitch-banner .feed-dot{
  width:8px; height:8px; border-radius:9999px; background:#ff0033; box-shadow:0 0 10px #ff0033;
  animation: feed-dot 1.6s ease-in-out infinite;
}
@keyframes feed-dot{ 0%,100%{opacity:.95; transform:scale(1);} 50%{opacity:.55; transform:scale(.8);} }
.glitch-banner .line{ font-weight:600; color:#ffd9e4; }

/* Overlay chips on images */
.banner-overlay{ position:absolute; left:.75rem; right:.75rem; top:.75rem; display:flex; justify-content:space-between; gap:.5rem; }
.banner-pill{
  font-size:10px; letter-spacing:.12em; padding:.2rem .5rem; text-transform:uppercase; color:#eee;
  border:1px solid rgba(255,255,255,.12); background:rgba(0,0,0,.45); border-radius:999px; cursor:default; user-select:none;
}

/* Image “dark web” look + REC HUD */
.darkweb-filter{
  filter: grayscale(90%) contrast(1.05) brightness(0.9) hue-rotate(70deg) saturate(1.05);
  transition: transform 350ms ease, filter 350ms ease;
}
.darkweb-filter:hover{ transform: scale(1.02); filter: grayscale(80%) contrast(1.1) brightness(1); }

.rec-hud{
  position:absolute; right:.75rem; top:.75rem; display:inline-flex; gap:.5rem; align-items:center;
  font:700 10px/1 JetBrains Mono, ui-monospace, SFMono-Regular, monospace; letter-spacing:.12em; text-transform:uppercase; color:#eee;
  padding:.2rem .5rem; background:rgba(0,0,0,.45); border:1px solid rgba(255,255,255,.12); border-radius:999px; pointer-events:none;
}
.rec-dot{ width:8px; height:8px; border-radius:9999px; background:#ff0033; box-shadow:0 0 10px #ff0033; animation: feed-dot 1.6s ease-in-out infinite; }

/* Fallback camera grid if no image */
.cam-grid{
  background-image:
    linear-gradient(rgba(0,255,100,.06) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,255,100,.06) 1px, transparent 1px);
  background-size:14px 14px; mix-blend-mode:screen;
}
.cam-watermark{
  position:absolute; inset:0; display:grid; place-items:center; pointer-events:none; user-select:none;
  font:800 2.2rem/1 JetBrains Mono, ui-monospace, monospace; letter-spacing:.12em; text-transform:uppercase; color:rgba(255,255,255,.03);
}

/* ===== Utilities ===== */
.bg-danger{ background-color:#ff0033; }
.scanline-thin::after{
  content:""; position:absolute; inset:0; pointer-events:none;
  background:linear-gradient(rgba(255,255,255,.03), rgba(0,0,0,0));
  background-size:100% 2px; mix-blend-mode:overlay; opacity:.15;
}
.grid-noise{
  background-image:
    linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size:14px 14px;
}
.ticker-spark{ letter-spacing:.08em; }
.chip-ghost{
  font-size:10px; letter-spacing:.12em; text-transform:uppercase; color:#eee;
  padding:.2rem .5rem; border-radius:999px; border:1px dashed rgba(255,255,255,.18); background:rgba(0,0,0,.35);
}

/* ===== Experience: ID cards + coin helpers ===== */
.idcard{
  background: linear-gradient(180deg, rgba(15,15,15,.9), rgba(12,12,12,.9));
  border: 1px solid rgba(255,255,255,.06);
  box-shadow: 0 0 0 1px rgba(255,255,255,.02) inset, 0 10px 30px rgba(0,0,0,.35);
}
.id-holo{
  position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(110deg,
    rgba(255,255,255,0) 0%,
    rgba(168,85,247,.06) 35%,
    rgba(56,189,248,.09) 50%,
    rgba(34,197,94,.06) 65%,
    rgba(255,255,255,0) 100%);
  mix-blend-mode: screen;
  animation: id-shine 5.5s ease-in-out infinite;
}
@keyframes id-shine{
  0%{ transform: translateX(-25%); opacity:.5; }
  50%{ transform: translateX(25%);  opacity:.8; }
  100%{transform: translateX(-25%); opacity:.5; }
}
.nfc-chip{
  width:14px; height:14px; border-radius:2px;
  background: linear-gradient(135deg, #d1d5db, #6b7280);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.25);
}
.barcode{
  width:120px; height:18px;
  background: repeating-linear-gradient(90deg, #e5e7eb 0 2px, #111 2px 4px, #e5e7eb 4px 6px, #111 6px 9px);
  filter: contrast(1.1) brightness(.9); border-radius:2px;
}
.vendor-rating{ font-size:11px; color:#facc15; letter-spacing:.06em; }

/* Coin helpers (used if you put a coin back later) */
.perspective-1000{ perspective: 1000px; }
.btc-coin{ filter: drop-shadow(0 8px 24px rgba(255,179,71,.25)); border-radius: 999px; }

/* Optional: 3D spin + bounce (single authoritative definitions) */
@keyframes coin-spin {
  0%{ transform: rotateY(0deg); }
  50%{ transform: rotateY(180deg) rotateZ(3deg); }
  100%{ transform: rotateY(360deg); }
}
.btc-3d-spin { animation: coin-spin 6s linear infinite; transform-style: preserve-3d; }

@keyframes coin-bounce { 0%,100%{ transform: translateY(0);} 50%{ transform: translateY(-8px);} }
.btc-bounce { animation: coin-bounce 2.6s ease-in-out infinite; }

/* ===== Flash modal (Experience entry) ===== */
.flash-modal{
  position: relative;
  width: min(680px, 92vw);
  border-radius: 14px;
  background: rgba(8,8,8,.85);
  border: 1px solid rgba(255,255,255,.08);
  box-shadow:
    0 0 0 1px rgba(255,255,255,.03) inset,
    0 30px 80px rgba(0,0,0,.6),
    0 0 30px rgba(57,255,20,.08);
  overflow: hidden;
}
.flash-border{
  position:absolute; inset:0; pointer-events:none;
  background:
    repeating-linear-gradient(90deg, rgba(57,255,20,.0) 0 16px, rgba(57,255,20,.25) 16px 18px, rgba(57,255,20,.0) 18px 34px);
  opacity:.35; animation: flash-scan 2.5s linear infinite;
}
@keyframes flash-scan { 0% { transform: translateX(-20%); } 100% { transform: translateX(20%); } }
.flash-body{ position: relative; padding: 28px 26px 22px; text-align: center; }
.flash-title{
  font-family: JetBrains Mono, ui-monospace, SFMono-Regular, monospace;
  font-weight: 800; letter-spacing: .06em; color: #39ff14;
  text-shadow: 0 0 14px rgba(57,255,20,.25);
  font-size: clamp(28px, 6vw, 48px);
  animation: flash-pop 1.2s ease-in-out infinite;
}
@keyframes flash-pop{ 0%,100%{ transform:scale(1); filter:brightness(1);} 50%{ transform:scale(1.04); filter:brightness(1.25);} }
.flash-sub{ margin-top:10px; font-size:14px; color:#d1d5db; }
.flash-hint{ margin-top:8px; font-size:11px; color:#8b949e; letter-spacing:.08em; }
/* ===== Dark-web envelope / dossier helpers ===== */
.file-env {
  position: relative;
  border-radius: 10px;
  background:
    radial-gradient(120% 90% at 10% 0%, rgba(255,0,60,0.08), transparent 55%),
    linear-gradient(180deg, #2b0005, #210003);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.04),
    0 12px 30px rgba(0,0,0,0.4);
  border: 1px solid rgba(220,0,40,0.25);
}
.file-env::before { /* flap */
  content: "";
  position: absolute; inset: 0 0 55% 0;
  border-top-left-radius: 10px; border-top-right-radius: 10px;
  background: linear-gradient(180deg, #3c0008, #2a0006);
  box-shadow: inset 0 -10px 20px rgba(0,0,0,0.35);
  transform-origin: top; transition: transform 280ms ease;
}
.file-env:hover::before { transform: rotateX(8deg); }

.file-tab {
  position: absolute; top: -12px; left: 12px;
  height: 22px; padding: 0 10px;
  border-top-left-radius: 6px; border-top-right-radius: 6px;
  background: linear-gradient(180deg, #4a000d, #2b0007);
  border: 1px solid rgba(220,0,40,0.35);
  color: #ffb3bb; font: 600 11px/22px ui-monospace, SFMono-Regular, monospace;
  letter-spacing: .08em; text-transform: uppercase;
  box-shadow: 0 6px 14px rgba(0,0,0,.4);
}

.wax-seal {
  position: absolute; right: 16px; top: 12px;
  width: 26px; height: 26px; border-radius: 9999px;
  background: radial-gradient(circle at 30% 30%, #ff2b4f, #8a0016 65%);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.2),
    0 6px 12px rgba(0,0,0,.6);
}
.wax-seal::after { /* tiny stamp glyph */
  content: "✶";
  position: absolute; inset: 0; display: grid; place-items: center;
  font: 900 13px/1 ui-monospace, monospace; color: #ffd7df; opacity: .9;
}

/* faint barcode rule */
.rule-bar {
  height: 12px; border-radius: 2px;
  background:
    repeating-linear-gradient(90deg, #ffe1e6 0 2px, #210004 2px 5px);
  filter: contrast(1.1) brightness(.9); opacity: .55;
}

/* terminal cursor blink */
@keyframes blink { 50% { opacity: 0; } }
.term-cursor { animation: blink 1s step-end infinite; }
/* === Neon listing border shimmer === */
.neon-border {
  position: relative;
}
.neon-border::before {
  content: "";
  position: absolute; inset: -1px;
  border-radius: inherit;
  background:
    linear-gradient(120deg,
      rgba(255,0,60,.0),
      rgba(255,0,80,.35),
      rgba(255,0,60,.0));
  filter: blur(6px);
  opacity: .0;
  transition: opacity .25s ease;
  pointer-events: none;
}
.neon-border:hover::before { opacity: .7; }

/* === 3D tilt card === */
.tilt-card {
  transform: perspective(700px) rotateX(var(--rx, 0deg)) rotateY(var(--ry, 0deg));
  transition: transform 120ms ease;
}

/* === faint scanline across cards === */
.card-scanline::after,
.card-scanline {
  content:"";
  position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(rgba(255,255,255,.02), rgba(0,0,0,0));
  background-size: 100% 2px;
  mix-blend-mode: overlay;
  opacity: .12;
  border-radius: inherit;
}

/* === price heartbeat === */
@keyframes price-pulse-kf {
  0%, 100% { transform: scale(1);   text-shadow: 0 0 0 rgba(255,0,80,0); }
  50%      { transform: scale(1.06); text-shadow: 0 0 8px rgba(255,0,80,.55); }
}
.price-pulse { animation: price-pulse-kf 1.9s ease-in-out infinite; }
/* ===== Evidence Locker styling ===== */
.evidence-bag {
  position: relative;
  border-radius: 12px;
  /* faint plastic texture */
  background-image:
    linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size: 14px 14px;
}

/* red tamper tape across the top */
.tamper-tape {
  position: absolute; left: -10%; right: -10%; top: 10px; height: 26px;
  transform: rotate(-2.3deg);
  background:
    repeating-linear-gradient(
      -45deg,
      rgba(220, 38, 38, 0.9) 0 12px,
      rgba(220, 38, 38, 0.9) 12px 24px,
      rgba(0,0,0,0.25) 24px 36px
    );
  border: 1px solid rgba(255, 0, 0, 0.35);
  box-shadow: 0 8px 22px rgba(255,0,0,.08);
  pointer-events: none;
  filter: saturate(1.1);
}

/* scanline overlay within bag */
.bag-scanline::after,
.bag-scanline {
  content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
  background: linear-gradient(rgba(255,255,255,.03), rgba(0,0,0,0));
  background-size: 100% 2px; mix-blend-mode: overlay; opacity:.15;
}

/* VERIFY rubber stamp */
.verify-stamp {
  font: 800 12px/1 ui-monospace, SFMono-Regular, Menlo, monospace;
  color: #ffb4c1;
  border: 2px solid rgba(255,0,60,.35);
  padding: 4px 8px;
  border-radius: 6px;
  transform: rotate(-6deg);
  box-shadow: 0 0 0 1px rgba(255,255,255,0.05) inset;
  position: relative;
  overflow: hidden;
}
.verify-stamp::after {
  /* shimmer */
  content:""; position:absolute; inset:-40%;
  background: conic-gradient(from 0deg, rgba(255,0,80,.15), transparent 30%);
  animation: stamp-shine 2.3s linear infinite;
  mix-blend-mode: screen;
}
@keyframes stamp-shine {
  to { transform: rotate(360deg); }
}

/* small PGP indicator */
.pgp-dot {
  width: 10px; height: 10px; border-radius: 9999px;
  background: #22c55e;
  box-shadow: 0 0 12px rgba(34,197,94,.6);
  display: inline-block;
}
.stamp-effect {
  font-family: "Courier New", monospace;
  text-transform: uppercase;
  transform: rotate(-5deg);
  background: rgba(0,0,0,0.8);
  box-shadow: 0 0 25px rgba(255,0,0,0.6), inset 0 0 15px rgba(255,0,0,0.3);
  text-shadow: 2px 2px 6px rgba(255,0,0,0.6);
}
